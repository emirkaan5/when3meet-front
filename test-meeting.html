<!DOCTYPE html>
<html>
<head>
    <title>Test Meeting Creation</title>
</head>
<body>
    <h1>Test Meeting Creation</h1>
    <button onclick="testCreateMeeting()">Test Create Meeting</button>
    <div id="result"></div>

    <script>
        async function testCreateMeeting() {
            const testMeeting = {
                title: "Test Meeting",
                description: "This is a test meeting description",
                startTime: "09:00",
                endTime: "17:00",
                selectedDays: [15, 16, 17],
                month: 10,
                year: 2025,
                creatorEmail: "test@example.com"
            };

            try {
                const response = await fetch('http://localhost:5000/meetings', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(testMeeting)
                });

                const result = await response.json();
                document.getElementById('result').innerHTML = 
                    `<pre>${JSON.stringify(result, null, 2)}</pre>`;
                
                if (result.success) {
                    alert('✅ Test successful! Meeting saved to database.');
                    
                    // Also test fetching all meetings
                    const fetchResponse = await fetch('http://localhost:5000/meetings');
                    const meetings = await fetchResponse.json();
                    console.log('All meetings:', meetings);
                } else {
                    alert('❌ Test failed: ' + result.message);
                }
            } catch (error) {
                document.getElementById('result').innerHTML = 
                    `<p style="color: red;">Error: ${error.message}</p>`;
                alert('❌ Connection failed: ' + error.message);
            }
        }
    </script>
</body>
</html>